<!-- Modal Background (clicking here will close the modal) -->
<div class="fixed inset-0 bg-black bg-opacity-50" (click)="onClose()"></div>

<!-- Modal Content (centered in the screen) -->
<div class="absolute inset-0 flex items-center justify-center">
  <div class="bg-white p-8 rounded-xl shadow-lg w-1/2"> <!-- Ajusté à une largeur de 1/2 -->
    <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">

      <!-- Modal Header -->
      <div class="flex items-center justify-between p-4 border-b rounded-t dark:border-gray-600">
        <!-- Modal Title -->
        <h3 class="text-lg font-semibold text-gray-900 dark:text-white">
          Add Employee
        </h3>
        <!-- Close Button -->
        <button type="button" (click)="onClose()" class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white">
          <svg class="w-3 h-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14" stroke="currentColor" stroke-width="2">
            <path d="M1 1l6 6m0 0l6 6M7 7l6-6M7 7L1 13" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span class="sr-only">Close modal</span>
        </button>
      </div>

      <!-- Form -->
      <form #employeeForm="ngForm" class="p-4">
        <!-- Grid with 2 columns -->
        <div class="grid gap-4 mb-4 grid-cols-2">

          <!-- First Name Input -->
          <div>
            <label for="firstName" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">First Name</label>
            <input type="text" id="firstName" [(ngModel)]="employee.firstName" #firstName="ngModel" name="firstName" required
              class="bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:text-white">
            <div *ngIf="firstName.touched && firstName.invalid" class="text-red-500 mt-1">
              <div *ngIf="firstName.errors?.['required']">First name is required.</div>
            </div>
          </div>

          <!-- Last Name Input -->
          <div>
            <label for="lastName" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Last Name</label>
            <input type="text" id="lastName" [(ngModel)]="employee.lastName" #lastName="ngModel" name="lastName" required
              class="bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:text-white">
            <div *ngIf="lastName.touched && lastName.invalid" class="text-red-500 mt-1">
              <div *ngIf="lastName.errors?.['required']">Last name is required.</div>
            </div>
          </div>

          <!-- Email Input -->
          <div>
            <label for="email" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Email</label>
            <input type="email" id="email" [(ngModel)]="employee.email" #email="ngModel" name="email" required
              class="bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:text-white">
            <div *ngIf="email.touched && email.invalid" class="text-red-500 mt-1">
              <div *ngIf="email.errors?.['required']">Email is required.</div>
              <div *ngIf="email.errors?.['email']">Please enter a valid email.</div>
            </div>
          </div>

          <!-- Position Input -->
          <div>
            <label for="position" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Position</label>
            <input type="text" id="position" [(ngModel)]="employee.position" #position="ngModel" name="position" required
              class="bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:text-white">
            <div *ngIf="position.touched && position.invalid" class="text-red-500 mt-1">
              <div *ngIf="position.errors?.['required']">Position is required.</div>
            </div>
          </div>

          <!-- Department Input -->
          <div>
            <label for="department" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Department</label>
            <input type="text" id="department" [(ngModel)]="employee.department" #department="ngModel" name="department" required
              class="bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:text-white">
            <div *ngIf="department.touched && department.invalid" class="text-red-500 mt-1">
              <div *ngIf="department.errors?.['required']">Department is required.</div>
            </div>
          </div>

          <!-- Hire Date Input -->
          <div>
            <label for="hireDate" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Hire Date</label>
            <input type="date" id="hireDate" [(ngModel)]="employee.hireDate" #hireDate="ngModel" name="hireDate" required
              class="bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:text-white">
            <div *ngIf="hireDate.touched && hireDate.invalid" class="text-red-500 mt-1">
              <div *ngIf="hireDate.errors?.['required']">Hire date is required.</div>
            </div>
          </div>

          <!-- Salary Input -->
          <div>
            <label for="salary" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Salary</label>
            <input type="number" id="salary" [(ngModel)]="employee.salary" #salary="ngModel" name="salary" required
              class="bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:text-white">
            <div *ngIf="salary.touched && salary.invalid" class="text-red-500 mt-1">
              <div *ngIf="salary.errors?.['required']">Salary is required.</div>
            </div>
          </div>

          <!-- Leave Balance Input -->
          <div>
            <label for="leaveBalance" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Leave Balance</label>
            <input type="number" id="leaveBalance" [(ngModel)]="employee.leaveBalance" #leaveBalance="ngModel" name="leaveBalance" required
              class="bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:text-white">
            <div *ngIf="leaveBalance.touched && leaveBalance.invalid" class="text-red-500 mt-1">
              <div *ngIf="leaveBalance.errors?.['required']">Leave balance is required.</div>
            </div>
          </div>

        </div>

        <!-- Submit Button -->
        <button type="submit" class="bg-primary-600 text-white rounded-lg px-4 py-2 hover:bg-primary-700">
          Submit
        </button>

        <!-- Form Error Message -->
        <div *ngIf="employeeForm.submitted && employeeForm.invalid" class="text-red-500 mt-3">
          Please fill out all required fields correctly before submitting.
        </div>
      </form>
    </div>
  </div>
</div>
